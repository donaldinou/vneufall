<?php
// $Id: immobilier.module,v 1.0 2009/09/08 11:30:00$

/*******************************************************************************
 * HOOKS DRUPAL
 ******************************************************************************/

function immobilier_location_form($form, $node, &$form_state) {
	$form["prix"]["#title"] = "Loyer";
}

function immobilier_location_view($node, $teaser = FALSE, $page = FALSE) {
	$node->content['prix']['#title'] = "Loyer";
}


/*******************************************************************************
 * HOOKS IMMOBILIER
 ******************************************************************************/

function immobilier_location_search_form($values, $form_state) {

}

function immobilier_location_search_form_alter($form) {
	$form['budget']['#title'] = "Loyer HC";
	$form["disponibilite"] = array(
		"#type" => "checkbox",
		"#title" => "Disponible tout de suite"
	);
}

/**
 * Implementation de hook_search_sql
 */
function immobilier_location_search_sql($params) {
	$sql = array();
	if($params->disponibilite) {
		$sql["where"] = "annonce.disponibilite <= NOW()";
	}
	return $sql;
}

/*******************************************************************************
 * PREPROCESS
 ******************************************************************************/
 
/*******************************************************************************
 * FORMULAIRES
 ******************************************************************************/
 
/*******************************************************************************
 * PAGES / CALLBACK
 ******************************************************************************/

/*******************************************************************************
 * THEMES
 ******************************************************************************/

/*******************************************************************************
 * DIVERS
 ******************************************************************************/
  
